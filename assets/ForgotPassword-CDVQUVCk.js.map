{"version":3,"file":"ForgotPassword-CDVQUVCk.js","sources":["../../../src/base/core/views/ForgotPassword.vue"],"sourcesContent":["<template>\r\n  <BaseLayout wrapperClass=\"forgotPassword\">\r\n    <Breadcrumbs />\r\n    <div class=\"container\">\r\n      <BRow class=\"forgot-password\">\r\n        <BCol md=\"10\" lg=\"7\" class=\"forgot-password-input\">\r\n          <h1>{{ $t(\"password_forgot\") }}</h1>\r\n          <p>\r\n            {{ $t(\"forgot_password_text\") }}\r\n          </p>\r\n          <BFormGroup\r\n            :label=\"$t('form_email') + '*'\"\r\n            label-for=\"email\"\r\n            :description=\"description\"\r\n            class=\"align-items-md-center d-flex\"\r\n          >\r\n            <BFormInput\r\n              id=\"email\"\r\n              v-model=\"email\"\r\n              type=\"text\"\r\n              :state=\"emailState\"\r\n              aria-describedby=\"email-feedback\"\r\n            ></BFormInput>\r\n            <BFormInvalidFeedback id=\"email-feedback\">\r\n              {{ emailError }}\r\n            </BFormInvalidFeedback>\r\n          </BFormGroup>\r\n          <div class=\"btn-wrap d-flex justify-content-md-between align-items-md-center\">\r\n            <router-link class=\"back\" to=\"/login\">{{ $t(\"go_back\") }}</router-link>\r\n            <div class=\"btn-holder\">\r\n              <BButton @click=\"formSubmit\" variant=\"info\" class=\"text-white form-submit-btn\">{{\r\n                $t(\"reset_my_password\")\r\n              }}</BButton>\r\n            </div>\r\n          </div>\r\n        </BCol>\r\n      </BRow>\r\n    </div>\r\n  </BaseLayout>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport BaseLayout from \"@/base/core/components/common/BaseLayout.vue\";\r\nimport Breadcrumbs from \"@/base/core/components/Breadcrumbs.vue\";\r\nimport { forgotPassword } from \"@storefront/core/data-resolver/user\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useHead } from \"@unhead/vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nconst { t } = useI18n();\r\nconst store = useStore();\r\nconst email = ref(\"\");\r\nconst emailState = ref(null);\r\nconst emailError = ref(\"\");\r\nconst description = ref(\"\");\r\nconst emailReg =\r\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/;\r\n\r\nconst validateEmail = () => {\r\n  if (email.value === \"\") {\r\n    emailState.value = false;\r\n    emailError.value = t(\"email_is_required_field\");\r\n    return false;\r\n  }\r\n  if (!emailReg.test(email.value)) {\r\n    emailState.value = false;\r\n    emailError.value = t(\"email_is_invalid_field\");\r\n    return false;\r\n  }\r\n  emailState.value = true;\r\n  return true;\r\n};\r\n\r\nconst formSubmit = async () => {\r\n  if (validateEmail()) {\r\n    const retval = await forgotPassword(email.value, store);\r\n    if (retval === true) {\r\n      description.value = t(\"reset_password_email_has_been_sent\");\r\n      const msg = {\r\n        type: \"success\",\r\n        title: t(\"password_reset\"),\r\n        text: t(\"reset_password_email_has_been_sent\"),\r\n      };\r\n      store.dispatch(\"messages/sendMessage\", { message: msg });\r\n    } else {\r\n      description.value = t(\"reset_password_email_could_not_been_sent\");\r\n      const msg = {\r\n        type: \"danger\",\r\n        title: t(\"accoupassword_resetnt_modify\"),\r\n        text: t(\"reset_password_email_could_not_been_sent\"),\r\n      };\r\n      store.dispatch(\"messages/sendMessage\", { message: msg });\r\n    }\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  const bcrumb = { current: t(\"password_forgot\"), routes: [] };\r\n  store.commit(\"breadcrumbs/set\", bcrumb);\r\n});\r\n\r\nuseHead({\r\n  title: () => t(\"password_forgot\"),\r\n  meta: [\r\n    { name: \"title\", content: () => t(\"password_forgot\") },\r\n    { name: \"keywords\", content: () => t(\"password_forgot\") },\r\n    { name: \"description\", content: () => t(\"password_forgot\") },\r\n  ],\r\n});\r\n</script>\r\n<style scoped>\r\n@import \"@/base/core/components/login/login.scss\";\r\n\r\n:deep(.el-form-item label) {\r\n  height: calc(1.6em + 1.6rem + 2px);\r\n}\r\n:deep(.el-input__wrapper) {\r\n  border-radius: 6px !important;\r\n}\r\n\r\n.mobile-form-email {\r\n  @media screen and (max-width: 768px) {\r\n    max-width: 100%;\r\n    flex: unset;\r\n  }\r\n\r\n  @media screen and (max-width: 992px) and (min-width: 768px) {\r\n    max-width: calc(100% - 120px);\r\n    flex: unset;\r\n  }\r\n}\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,UAAM,EAAE,EAAC,IAAK;AACd,UAAM,QAAQ,SAAQ;AACtB,UAAM,QAAQ,IAAI,EAAE;AACpB,UAAM,aAAa,IAAI,IAAI;AAC3B,UAAM,aAAa,IAAI,EAAE;AACzB,UAAM,cAAc,IAAI,EAAE;AAC1B,UAAM,WACJ;AAEF,UAAM,gBAAgB,MAAM;AAC1B,UAAI,MAAM,UAAU,IAAI;AACtB,mBAAW,QAAQ;AACnB,mBAAW,QAAQ,EAAE,yBAAyB;AAC9C,eAAO;AAAA,MACR;AACD,UAAI,CAAC,SAAS,KAAK,MAAM,KAAK,GAAG;AAC/B,mBAAW,QAAQ;AACnB,mBAAW,QAAQ,EAAE,wBAAwB;AAC7C,eAAO;AAAA,MACR;AACD,iBAAW,QAAQ;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,aAAa,YAAY;AAC7B,UAAI,cAAa,GAAI;AACnB,cAAM,SAAS,MAAM,eAAe,MAAM,OAAO,KAAK;AACtD,YAAI,WAAW,MAAM;AACnB,sBAAY,QAAQ,EAAE,oCAAoC;AAC1D,gBAAM,MAAM;AAAA,YACV,MAAM;AAAA,YACN,OAAO,EAAE,gBAAgB;AAAA,YACzB,MAAM,EAAE,oCAAoC;AAAA,UACpD;AACM,gBAAM,SAAS,wBAAwB,EAAE,SAAS,IAAK,CAAA;AAAA,QAC7D,OAAW;AACL,sBAAY,QAAQ,EAAE,0CAA0C;AAChE,gBAAM,MAAM;AAAA,YACV,MAAM;AAAA,YACN,OAAO,EAAE,8BAA8B;AAAA,YACvC,MAAM,EAAE,0CAA0C;AAAA,UAC1D;AACM,gBAAM,SAAS,wBAAwB,EAAE,SAAS,IAAK,CAAA;AAAA,QACxD;AAAA,MACF;AAAA,IACH;AAEA,cAAU,MAAM;AACd,YAAM,SAAS,EAAE,SAAS,EAAE,iBAAiB,GAAG,QAAQ,CAAA;AACxD,YAAM,OAAO,mBAAmB,MAAM;AAAA,IACxC,CAAC;AAED,YAAQ;AAAA,MACN,OAAO,MAAM,EAAE,iBAAiB;AAAA,MAChC,MAAM;AAAA,QACJ,EAAE,MAAM,SAAS,SAAS,MAAM,EAAE,iBAAiB,EAAG;AAAA,QACtD,EAAE,MAAM,YAAY,SAAS,MAAM,EAAE,iBAAiB,EAAG;AAAA,QACzD,EAAE,MAAM,eAAe,SAAS,MAAM,EAAE,iBAAiB,EAAG;AAAA,MAC7D;AAAA,IACH,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}