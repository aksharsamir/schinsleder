{"version":3,"file":"App-C0Yuxh93.js","sources":["../../../src/esf_thehague_schinsleder/core/components/Loader.vue","../../../src/esf_thehague_schinsleder/App.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"isLoading\" class=\"loader-overlay\">\r\n        <div class=\"loader\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nconst store = useStore();\r\nconst isLoading = computed(() => store.getters.isLoading)\r\n</script>\r\n\r\n<style scoped>\r\n.loader-overlay {\r\n    gap: 10px;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: #ffffffeb;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 9999;\r\n}\r\n\r\n.loader {\r\n    width: 25px;\r\n    aspect-ratio: 1;\r\n    border-radius: 50%;\r\n    animation: l5 1s infinite linear alternate;\r\n}\r\n\r\n@keyframes l5 {\r\n    0% {\r\n        box-shadow: 40px 0 #626c62, -40px 0 #0002;\r\n        background: #626c62\r\n    }\r\n\r\n    33% {\r\n        box-shadow: 40px 0 #626c62, -40px 0 #0002;\r\n        background: #0002\r\n    }\r\n\r\n    66% {\r\n        box-shadow: 40px 0 #0002, -40px 0 #000;\r\n        background: #0002\r\n    }\r\n\r\n    100% {\r\n        box-shadow: 40px 0 #0002, -40px 0 #000;\r\n        background: #000\r\n    }\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <Loader />\r\n    <div v-if=\"generalMsg.text != ''\" class=\"top-banner\"\r\n      :style=\"`background-color:` + generalMsg.background_color + `; color:` + generalMsg.text_color + `;`\">\r\n      <span class=\"texttop\" v-html=\"generalMsg.text\"></span>\r\n    </div>\r\n    <router-view />\r\n    <div class=\"c-toaster-top-full position-absolute\">\r\n      <div class=\"c-toaster-slot\" id=\"c-toaster-slot\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, onMounted, watch, onUpdated, nextTick, onServerPrefetch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { createToast } from \"@storefront/core/helpers\";\r\nimport config from \"@config\";\r\nimport { useHead } from \"@unhead/vue\";\r\nimport { useGtm } from \"@gtm-support/vue-gtm\";\r\nimport VueCookies from \"vue-cookies\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Loader from \"@/esf_thehague_schinsleder/core/components/Loader.vue\";\r\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { fat } from \"@fortawesome/pro-thin-svg-icons\";\r\nlibrary.add(far);\r\nlibrary.add(fat);\r\n\r\n// Use store in setup\r\nconst store = useStore();\r\nconst gtm = useGtm();\r\nstore.dispatch('setLoading', true)\r\nconst contentList = [\r\n  \"contact\",\r\n  \"footer_contact\",\r\n  \"footer_menu_catalogus\",\r\n  \"footer_menu_catalogus_2\",\r\n  \"footer_copyright\"\r\n];\r\n\r\nconst sliders = [\r\n  \"home\",\r\n  \"home_gallery\",\r\n  \"payment_providers\",\r\n  \"delivery_partners\",\r\n  \"discount_header\",\r\n  \"discount_header_mobile\",\r\n];\r\n\r\nif (typeof window !== \"undefined\") {\r\n  const websiteCookie = VueCookies.get(\"websiteCookie\");\r\n  if (websiteCookie === \"true\") {\r\n    gtm.enable(true);\r\n    gtm.debug(true);\r\n  }\r\n}\r\n\r\n// State and computed properties\r\nconst generalMsg = computed(() => store.state.messages.generalMsg);\r\n// const cmsDefaultPageContent = computed(() => store.state.cmsPage.default);\r\nconst currentTemplate = config.template.name;\r\n\r\n// Set up meta information using useHead\r\nuseHead({\r\n  titleTemplate: `%s | ${config.app_name}`,\r\n  htmlAttrs: { lang: store.getters[\"i18n/locale\"] },\r\n  meta: [\r\n    { charset: \"utf-8\" },\r\n    { name: \"viewport\", content: \"width=device-width, initial-scale=1\" },\r\n  ],\r\n});\r\n\r\n// Watchers\r\nwatch(\r\n  () => store.state.messages.msgItems.length,\r\n  async () => {\r\n    const msgs = await store.dispatch(\"messages/giveLastMessages\");\r\n    msgs.forEach((msg) => {\r\n      createToast(msg);\r\n    });\r\n  }\r\n);\r\n\r\nconst router = useRouter();\r\n\r\nasync function fetchData() {\r\n  store.dispatch(\"forms/loadForms\");\r\n  // store.dispatch(\"faq/load\");\r\n  await Promise.allSettled([\r\n    // store.dispatch(\"messages/loadGeneralMsg\"),\r\n    store.dispatch(\"cmsPage/loadDefault\", { id: \"home\" }),\r\n    store.dispatch(\"sliders/multiple\", { key: \"identifier\", value: sliders }),\r\n    // store.dispatch(\"stores/load\"),\r\n    store.dispatch(\"blog/load\"),\r\n    // store.dispatch(\"product/loadBrandSlider\"),\r\n    store.dispatch(\"menu/loadMenu\"),\r\n    store.dispatch(\"sidebar/loadSidebarCategory\"),\r\n    store.dispatch(\"user/loadCountries\"),\r\n    // store.dispatch(\"product/productReviewRatingsMetadata\"),\r\n    store.dispatch(\"home/loadBundles\", { store }),\r\n    store.dispatch(\"cmsBlock/multiple\", { key: \"identifier\", value: contentList }),\r\n    // store.dispatch(\"cart/loadPickupLocations\"),\r\n  ]);\r\n}\r\n\r\n// Lifecycle hooks\r\nonServerPrefetch(fetchData);\r\n\r\nonMounted(() => {\r\n  window.redirect = redirect;\r\n  if (currentTemplate === \"esf_thehague_schinsleder\") {\r\n    const app = document.getElementById(\"app\");\r\n    if (!app.classList.contains(\"fkv\")) {\r\n      app.classList.add(\"sl\");\r\n    }\r\n  }\r\n\r\n  store.dispatch(\"user/loadUser\", { store });\r\n  if (!store.getters[\"cart/getCartIsLoaded\"]) {\r\n    store.dispatch(\"cart/loadCart\", { store });\r\n  }\r\n\r\n  if (config.helloRetail && config.helloRetail.enabled) {\r\n    let helloRetail = document.createElement(\"script\");\r\n    helloRetail.async = true;\r\n    if (config.helloRetail.code) {\r\n      loadHelloRetail();\r\n    }\r\n  }\r\n  store.dispatch('setLoading', false)\r\n});\r\n\r\nonUpdated(() => {\r\n  if (currentTemplate === \"esf_thehague_schinsleder\") {\r\n    const app = document.getElementById(\"app\");\r\n    if (!app.classList.contains(\"sl\")) {\r\n      app.classList.add(\"sl\");\r\n    }\r\n  }\r\n\r\n  nextTick(() => {\r\n    if (self.ADDWISH_PARTNER_NS) {\r\n      self.ADDWISH_PARTNER_NS.api.reload();\r\n    } else {\r\n      loadHelloRetail();\r\n    }\r\n  });\r\n});\r\n\r\nfunction redirect(e) {\r\n  e?.preventDefault();\r\n  router.push(e?.currentTarget.getAttribute(\"href\"));\r\n}\r\n\r\nfunction loadHelloRetail() {\r\n  let helloRetail = document.createElement(\"script\");\r\n  helloRetail.async = true;\r\n  if (config.helloRetail && config.helloRetail.code) {\r\n    helloRetail.src =\r\n      \"https://d1pna5l3xsntoj.cloudfront.net/scripts/company/awAddGift.js#\" +\r\n      config.helloRetail.code;\r\n    document.head.appendChild(helloRetail);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#app {\r\n  position: relative;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  min-height: 100vh;\r\n\r\n  .modal-open & {\r\n    width: 100vw;\r\n  }\r\n}\r\n\r\n.texttop {\r\n  display: inline-block;\r\n  position: relative;\r\n  margin-top: 5px;\r\n  margin-bottom: -15px;\r\n}\r\n\r\n.top-banner {\r\n  text-align: center;\r\n  font-size: 16px;\r\n  letter-spacing: 0.22rem;\r\n  position: relative;\r\n}\r\n\r\na {\r\n  transition: 0.3s color ease-in-out;\r\n}\r\n\r\n.resize-active * {\r\n  transition: none !important;\r\n}\r\n\r\n.best-seller--category {\r\n  font-size: 24px;\r\n  letter-spacing: -0.025em;\r\n  font-weight: normal;\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  background: $black;\r\n  color: $white;\r\n  padding: 6px 10px;\r\n  min-width: 213px;\r\n  text-align: center;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 0;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.section-title {\r\n  font-size: 18px;\r\n  font-weight: normal;\r\n  display: block;\r\n  text-align: center;\r\n  margin-bottom: 19px;\r\n}\r\n</style>\r\n"],"names":["config"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,UAAM,QAAQ,SAAQ;AACtB,UAAM,YAAY,SAAS,MAAM,MAAM,QAAQ,SAAS;;;;;;;;;;;;;;;;;;;;;ACiBxD,YAAQ,IAAI,GAAG;AACf,YAAQ,IAAI,GAAG;AAGf,UAAM,QAAQ,SAAQ;AACtB,UAAM,MAAM,OAAM;AAClB,UAAM,SAAS,cAAc,IAAI;AACjC,UAAM,cAAc;AAAA,MAClB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAEA,UAAM,UAAU;AAAA,MACd;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAEA,QAAI,OAAO,WAAW,aAAa;AACjC,YAAM,gBAAgB,WAAW,IAAI,eAAe;AACpD,UAAI,kBAAkB,QAAQ;AAC5B,YAAI,OAAO,IAAI;AACf,YAAI,MAAM,IAAI;AAAA,MACf;AAAA,IACH;AAGA,UAAM,aAAa,SAAS,MAAM,MAAM,MAAM,SAAS,UAAU;AAKjE,YAAQ;AAAA,MACN,eAAe,QAAQA,YAAO,QAAQ;AAAA,MACtC,WAAW,EAAE,MAAM,MAAM,QAAQ,aAAa,EAAG;AAAA,MACjD,MAAM;AAAA,QACJ,EAAE,SAAS,QAAS;AAAA,QACpB,EAAE,MAAM,YAAY,SAAS,sCAAuC;AAAA,MACrE;AAAA,IACH,CAAC;AAGD;AAAA,MACE,MAAM,MAAM,MAAM,SAAS,SAAS;AAAA,MACpC,YAAY;AACV,cAAM,OAAO,MAAM,MAAM,SAAS,2BAA2B;AAC7D,aAAK,QAAQ,CAAC,QAAQ;AACpB,sBAAY,GAAG;AAAA,QACrB,CAAK;AAAA,MACF;AAAA,IACH;AAEA,UAAM,SAAS,UAAS;AAExB,mBAAe,YAAY;AACzB,YAAM,SAAS,iBAAiB;AAEhC,YAAM,QAAQ,WAAW;AAAA;AAAA,QAEvB,MAAM,SAAS,uBAAuB,EAAE,IAAI,OAAM,CAAE;AAAA,QACpD,MAAM,SAAS,oBAAoB,EAAE,KAAK,cAAc,OAAO,SAAS;AAAA;AAAA,QAExE,MAAM,SAAS,WAAW;AAAA;AAAA,QAE1B,MAAM,SAAS,eAAe;AAAA,QAC9B,MAAM,SAAS,6BAA6B;AAAA,QAC5C,MAAM,SAAS,oBAAoB;AAAA;AAAA,QAEnC,MAAM,SAAS,oBAAoB,EAAE,MAAK,CAAE;AAAA,QAC5C,MAAM,SAAS,qBAAqB,EAAE,KAAK,cAAc,OAAO,aAAa;AAAA;AAAA,MAEjF,CAAG;AAAA,IACH;AAGA,qBAAiB,SAAS;AAE1B,cAAU,MAAM;AACd,aAAO,WAAW;AACkC;AAClD,cAAM,MAAM,SAAS,eAAe,KAAK;AACzC,YAAI,CAAC,IAAI,UAAU,SAAS,KAAK,GAAG;AAClC,cAAI,UAAU,IAAI,IAAI;AAAA,QACvB;AAAA,MACF;AAED,YAAM,SAAS,iBAAiB,EAAE,MAAO,CAAA;AACzC,UAAI,CAAC,MAAM,QAAQ,sBAAsB,GAAG;AAC1C,cAAM,SAAS,iBAAiB,EAAE,MAAO,CAAA;AAAA,MAC1C;AAED,UAAIA,YAAO,eAAeA,YAAO,YAAY,SAAS;AACpD,YAAI,cAAc,SAAS,cAAc,QAAQ;AACjD,oBAAY,QAAQ;AACpB,YAAIA,YAAO,YAAY,MAAM;AAC3B;QACD;AAAA,MACF;AACD,YAAM,SAAS,cAAc,KAAK;AAAA,IACpC,CAAC;AAED,cAAU,MAAM;AACsC;AAClD,cAAM,MAAM,SAAS,eAAe,KAAK;AACzC,YAAI,CAAC,IAAI,UAAU,SAAS,IAAI,GAAG;AACjC,cAAI,UAAU,IAAI,IAAI;AAAA,QACvB;AAAA,MACF;AAED,eAAS,MAAM;AACb,YAAI,KAAK,oBAAoB;AAC3B,eAAK,mBAAmB,IAAI;QAClC,OAAW;AACL;QACD;AAAA,MACL,CAAG;AAAA,IACH,CAAC;AAED,aAAS,SAAS,GAAG;AACnB,6BAAG;AACH,aAAO,KAAK,uBAAG,cAAc,aAAa,OAAO;AAAA,IACnD;AAEA,aAAS,kBAAkB;AACzB,UAAI,cAAc,SAAS,cAAc,QAAQ;AACjD,kBAAY,QAAQ;AACpB,UAAIA,YAAO,eAAeA,YAAO,YAAY,MAAM;AACjD,oBAAY,MACV,wEACAA,YAAO,YAAY;AACrB,iBAAS,KAAK,YAAY,WAAW;AAAA,MACtC;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;"}