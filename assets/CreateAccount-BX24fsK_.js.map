{"version":3,"file":"CreateAccount-BX24fsK_.js","sources":["../../../src/base/core/views/authentication/sign-up/CreateAccount.vue"],"sourcesContent":["<template>\r\n  <BaseLayout>\r\n    <Breadcrumbs />\r\n    <BContainer class=\"checkout-account\">\r\n      <div v-if=\"!thanksActive\">\r\n        <h1>{{ $t(\"create_new_account\") }}</h1>\r\n        <b-form class=\"checkout-form\" @submit.prevent=\"formSubmit\">\r\n          <h2>{{ $t(\"personal_information\") }}</h2>\r\n          <b-row>\r\n            <b-col md=\"6\">\r\n              <b-form-group\r\n                class=\"account-inputs\"\r\n                id=\"email-group\"\r\n                :label=\"$t('form_email') + '*'\"\r\n                label-for=\"email\"\r\n              >\r\n                <b-form-input\r\n                  id=\"email\"\r\n                  v-model=\"form.email\"\r\n                  type=\"text\"\r\n                  :state=\"form.emailState\"\r\n                  aria-describedby=\"email-feedback\"\r\n                ></b-form-input>\r\n                <b-form-invalid-feedback id=\"email-feedback\">\r\n                  {{ form.emailError }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n              <b-form-group\r\n                class=\"account-inputs\"\r\n                id=\"password-group\"\r\n                :label=\"$t('form_password') + '*'\"\r\n                label-for=\"password\"\r\n              >\r\n                <b-form-input\r\n                  id=\"password\"\r\n                  v-model=\"form.password\"\r\n                  type=\"password\"\r\n                  :state=\"form.passwordState\"\r\n                  aria-describedby=\"password-feedback\"\r\n                ></b-form-input>\r\n                <password-meter\r\n                  v-if=\"form.password && isClient\"\r\n                  :password=\"form.password\"\r\n                />\r\n                <b-form-invalid-feedback id=\"password-feedback\">\r\n                  {{ form.passwordError }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n              <b-form-group\r\n                class=\"account-inputs\"\r\n                id=\"password_confirm-group\"\r\n                :label=\"$t('form_password_confirmation') + '*'\"\r\n                label-for=\"password_confirm\"\r\n              >\r\n                <b-form-input\r\n                  id=\"password_confirm\"\r\n                  v-model=\"form.password_confirm\"\r\n                  type=\"password\"\r\n                  :state=\"form.password_confirmState\"\r\n                  aria-describedby=\"password_confirm-feedback\"\r\n                ></b-form-input>\r\n                <b-form-invalid-feedback id=\"password_confirm-feedback\">\r\n                  {{ form.password_confirmError }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n\r\n              <b-form-checkbox\r\n                id=\"checkbox-1\"\r\n                class=\"custom-control custom-checkbox\"\r\n                input-class=\"custom-control-input\"\r\n                v-model=\"isCompany\"\r\n                name=\"checkbox-1\"\r\n                >{{ $t(\"form_are_you_a_company\") }}</b-form-checkbox\r\n              >\r\n              <div v-if=\"isCompany\" class=\"short-form\">\r\n                <b-form-group\r\n                  class=\"account-inputs\"\r\n                  id=\"company-group\"\r\n                  :label=\"$t('form_company_name') + '*'\"\r\n                  label-for=\"company\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"company\"\r\n                    v-model=\"form.company\"\r\n                    type=\"text\"\r\n                    @blur=\"validateCompany\"\r\n                    :state=\"form.companyState\"\r\n                    aria-describedby=\"company-feedback\"\r\n                  ></b-form-input>\r\n                  <b-form-invalid-feedback id=\"company-feedback\">\r\n                    {{ form.companyError }}\r\n                  </b-form-invalid-feedback>\r\n                </b-form-group>\r\n                <b-form-group\r\n                  class=\"account-inputs\"\r\n                  id=\"coc_number-group\"\r\n                  :label=\"$t('form_coc_number') + '*'\"\r\n                  label-for=\"coc_number\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"coc_number\"\r\n                    v-model=\"form.coc_number\"\r\n                    type=\"text\"\r\n                    @blur=\"validateCOCNumber\"\r\n                    :state=\"form.coc_numberState\"\r\n                    aria-describedby=\"coc_number-feedback\"\r\n                  ></b-form-input>\r\n                  <b-form-invalid-feedback id=\"coc_number-feedback\">\r\n                    {{ form.coc_numberError }}\r\n                  </b-form-invalid-feedback>\r\n                </b-form-group>\r\n                <b-form-group\r\n                  class=\"account-inputs\"\r\n                  id=\"taxvat-group\"\r\n                  :label=\"$t('form_vat_number')\"\r\n                  label-for=\"taxvat\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"taxvat\"\r\n                    v-model=\"form.taxvat\"\r\n                    type=\"text\"\r\n                    :state=\"form.taxvatState\"\r\n                    aria-describedby=\"taxvat-feedback\"\r\n                  ></b-form-input>\r\n                  <b-form-invalid-feedback id=\"taxvat-feedback\">\r\n                    {{ form.taxvatError }}\r\n                  </b-form-invalid-feedback>\r\n                </b-form-group>\r\n              </div>\r\n            </b-col>\r\n            <b-col md=\"6\">\r\n              <b-form-group\r\n                class=\"account-inputs\"\r\n                id=\"first-name-group\"\r\n                :label=\"$t('form_first_name') + '*'\"\r\n                label-for=\"first_name\"\r\n              >\r\n                <b-form-input\r\n                  id=\"first_name\"\r\n                  v-model=\"form.firstname\"\r\n                  type=\"text\"\r\n                  @blur=\"validateFirstname\"\r\n                  :state=\"form.firstnameState\"\r\n                  aria-describedby=\"firstname-feedback\"\r\n                ></b-form-input>\r\n                <b-form-invalid-feedback id=\"firstname-feedback\">\r\n                  {{ form.firstnameError }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n              <b-form-group\r\n                class=\"account-inputs\"\r\n                id=\"last-name-group\"\r\n                :label=\"$t('form_last_name') + '*'\"\r\n                label-for=\"last_name\"\r\n              >\r\n                <b-form-input\r\n                  id=\"last_name\"\r\n                  v-model=\"form.lastname\"\r\n                  type=\"text\"\r\n                  @blur=\"validateLastname\"\r\n                  :state=\"form.lastnameState\"\r\n                  aria-describedby=\"lastname-feedback\"\r\n                ></b-form-input>\r\n                <b-form-invalid-feedback id=\"lastname-feedback\">\r\n                  {{ form.lastnameError }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n              <b-form-group\r\n                class=\"account-inputs\"\r\n                id=\"country-group\"\r\n                :label=\"$t('form_country') + '*'\"\r\n                label-for=\"country\"\r\n              >\r\n                <b-form-select\r\n                  id=\"country\"\r\n                  v-model=\"form.address.country_code\"\r\n                  :options=\"countries\"\r\n                  class=\"select\"\r\n                ></b-form-select>\r\n              </b-form-group>\r\n              <b-form-group\r\n                v-if=\"!showFullAddress\"\r\n                class=\"account-inputs\"\r\n                id=\"postcode-group\"\r\n                :label=\"$t('form_postal_code') + '*'\"\r\n                label-for=\"postcode\"\r\n              >\r\n                <b-form-input\r\n                  id=\"postcode\"\r\n                  v-model=\"form.address.postcode\"\r\n                  type=\"text\"\r\n                  :state=\"form.address.postcodeState\"\r\n                  aria-describedby=\"address.postcode-feedback\"\r\n                ></b-form-input>\r\n                <b-form-invalid-feedback id=\"address.postcode-feedback\">\r\n                  {{ form.address.postcodeError }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n              <b-form-group\r\n                v-if=\"showFullAddress\"\r\n                class=\"account-inputs\"\r\n                id=\"street-group\"\r\n                :label=\"$t('form_street') + '*'\"\r\n                label-for=\"street\"\r\n              >\r\n                <b-form-input\r\n                  id=\"street\"\r\n                  v-model=\"form.address.streetDisplay\"\r\n                  type=\"text\"\r\n                  @blur=\"validateStreet\"\r\n                  :state=\"form.address.streetDisplayState\"\r\n                  aria-describedby=\"address.streetDisplay-feedback\"\r\n                ></b-form-input>\r\n                <b-form-invalid-feedback id=\"address.streetDisplay-feedback\">\r\n                  {{ form.address.streetDisplayError }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n              <b-row>\r\n                <b-col sm=\"6\" class=\"first\">\r\n                  <b-form-group\r\n                    class=\"account-inputs\"\r\n                    id=\"house_number-group\"\r\n                    :label=\"$t('form_house_number') + '*'\"\r\n                    label-for=\"house_number\"\r\n                  >\r\n                    <b-form-input\r\n                      id=\"house_number\"\r\n                      v-model=\"form.address.house_number\"\r\n                      type=\"text\"\r\n                      @blur=\"validateHouseNumber\"\r\n                      :state=\"form.address.house_numberState\"\r\n                      aria-describedby=\"address.house_number-feedback\"\r\n                    ></b-form-input>\r\n                    <b-form-invalid-feedback id=\"address.house_number-feedback\">\r\n                      {{ form.address.house_numberError }}\r\n                    </b-form-invalid-feedback>\r\n                  </b-form-group>\r\n                </b-col>\r\n                <b-col sm=\"6\" class=\"third\">\r\n                  <b-form-group\r\n                    class=\"account-inputs\"\r\n                    id=\"addition-group\"\r\n                    :label=\"$t('form_addition')\"\r\n                    label-for=\"addition\"\r\n                  >\r\n                    <b-form-input\r\n                      id=\"addition\"\r\n                      v-model=\"form.address.addition\"\r\n                      type=\"text\"\r\n                    ></b-form-input>\r\n                  </b-form-group>\r\n                </b-col>\r\n              </b-row>\r\n              <b-form-group\r\n                v-if=\"showFullAddress\"\r\n                class=\"account-inputs\"\r\n                id=\"postcode-group1\"\r\n                :label=\"$t('form_postal_code') + '*'\"\r\n                label-for=\"postcode1\"\r\n              >\r\n                <b-form-input\r\n                  id=\"postcode1\"\r\n                  v-model=\"form.address.postcode\"\r\n                  type=\"text\"\r\n                  @blur=\"validatePostcode\"\r\n                  :state=\"form.address.postcodeState\"\r\n                  aria-describedby=\"address.postcode1-feedback\"\r\n                ></b-form-input>\r\n                <b-form-invalid-feedback id=\"address.postcode1-feedback\">\r\n                  {{ form.address.postcodeError }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n\r\n              <b-form-group\r\n                v-if=\"showFullAddress\"\r\n                class=\"account-inputs\"\r\n                id=\"city-group\"\r\n                :label=\"$t('form_city') + '*'\"\r\n                label-for=\"city\"\r\n              >\r\n                <b-form-input\r\n                  id=\"city\"\r\n                  v-model=\"form.address.city\"\r\n                  type=\"text\"\r\n                  @blur=\"validateCity\"\r\n                  :state=\"form.address.cityState\"\r\n                  aria-describedby=\"address.city-feedback\"\r\n                ></b-form-input>\r\n                <b-form-invalid-feedback id=\"address.city-feedback\">\r\n                  {{ form.address.cityError }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n              <b-form-group\r\n                v-if=\"foundAddress != '' && showFullAddress == false\"\r\n                class=\"account-inputs\"\r\n                id=\"add-group\"\r\n                label=\" \"\r\n                label-for=\"add\"\r\n              >\r\n                <div id=\"add\">\r\n                  {{ foundAddress }}\r\n                </div>\r\n              </b-form-group>\r\n              <b-form-group\r\n                v-if=\"foundAddresses.length > 0 && showFullAddress == false\"\r\n                class=\"account-inputs\"\r\n                id=\"addm-group\"\r\n                label=\" \"\r\n                label-for=\"addm\"\r\n              >\r\n                <div id=\"addm\">\r\n                  <b-form-radio\r\n                    style=\"width: 300px\"\r\n                    class=\"account-radios\"\r\n                    v-model=\"selectedAddress\"\r\n                    v-for=\"(item, index) in foundAddresses\"\r\n                    :key=\"index\"\r\n                    name=\"some-radios\"\r\n                    :value=\"index\"\r\n                    >{{ item.text }}</b-form-radio\r\n                  >\r\n                </div>\r\n              </b-form-group>\r\n              <b-form-checkbox\r\n                v-if=\"showManual\"\r\n                id=\"manual\"\r\n                v-model=\"showFullAddress\"\r\n                name=\"manual\"\r\n                class=\"custom-control custom-checkbox\"\r\n                input-class=\"custom-control-input\"\r\n                >{{ $t(\"form_fillout_address_manual\") }}</b-form-checkbox\r\n              >\r\n              <b-form-group\r\n                class=\"account-inputs\"\r\n                id=\"telephone-group\"\r\n                :label=\"$t('form_phone') + '*'\"\r\n                label-for=\"telephone\"\r\n              >\r\n                <b-form-input\r\n                  id=\"telephone\"\r\n                  v-model=\"form.address.telephone\"\r\n                  type=\"text\"\r\n                  @blur=\"validatePhone\"\r\n                  :state=\"form.address.telephoneState\"\r\n                  aria-describedby=\"address.telephone-feedback\"\r\n                ></b-form-input>\r\n                <b-form-invalid-feedback id=\"address.telephone-feedback\">\r\n                  {{ form.address.telephoneError }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n              <b-form-checkbox\r\n                id=\"checkbox-2\"\r\n                name=\"checkbox-2\"\r\n                label-for=\"checkbox2\"\r\n                v-model=\"form.address.default_billing\"\r\n                class=\"custom-control custom-checkbox\"\r\n                input-class=\"custom-control-input\"\r\n                >{{ $t(\"form_address_also_invoice_address\") }}</b-form-checkbox\r\n              >\r\n              <b-form-checkbox\r\n                id=\"checkbox-3\"\r\n                name=\"checkbox-3\"\r\n                label-for=\"checkbox3\"\r\n                v-model=\"form.is_subscribed\"\r\n                class=\"custom-control custom-checkbox\"\r\n                input-class=\"custom-control-input\"\r\n                >{{ $t(\"form_newsletter_subscription\") }}</b-form-checkbox\r\n              >\r\n            </b-col>\r\n            <div class=\"btn-wrap text-center\">\r\n              <b-button\r\n                type=\"submit\"\r\n                variant=\"info\"\r\n                class=\"text-white form-submit-btn\"\r\n                >{{ $t(\"create_my_account\") }}</b-button\r\n              >\r\n            </div>\r\n          </b-row>\r\n        </b-form>\r\n      </div>\r\n\r\n      <CreateAccountThanks v-if=\"thanksActive\" />\r\n    </BContainer>\r\n  </BaseLayout>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, watch, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Breadcrumbs from \"@/base/core/components/Breadcrumbs\";\r\nimport BaseLayout from \"@/base/core/components/common/BaseLayout\";\r\nimport CreateAccountThanks from \"@/base/core/components/authentication/sign-up/CreateAccountThanks\";\r\nimport config from \"@config\";\r\nimport PasswordMeter from \"vue-simple-password-meter\";\r\nimport {\r\n  // validatePostcode,\r\n  validateVatNumber,\r\n  checkEmailExist,\r\n} from \"@storefront/core/data-resolver/user\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useHead } from \"@unhead/vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nconst store = useStore();\r\nconst router = useRouter();\r\nconst { t } = useI18n();\r\n\r\nconst isClient = ref(false);\r\nconst isCompany = ref(false);\r\nconst thanksActive = ref(false);\r\nconst showFullAddress = ref(true);\r\nconst showManual = ref(true);\r\nconst typeTimer = ref(null);\r\nconst foundAddresses = ref([]);\r\nconst foundAddress = ref(\"\");\r\nconst selectedAddress = ref(null);\r\nconst isValidVatNumber = ref(false);\r\nconst showVatMessage = ref(\"\");\r\nconst showVatCheck = ref(false);\r\nconst emailReg = ref(\r\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/\r\n);\r\n\r\nconst form = ref({\r\n  email: \"\",\r\n  emailState: null,\r\n  emailError: \"\",\r\n  emailTimer: null,\r\n  password: \"\",\r\n  passwordState: null,\r\n  passwordError: \"\",\r\n  passwordTimer: null,\r\n  password_confirm: \"\",\r\n  password_confirmState: null,\r\n  password_confirmError: \"\",\r\n  password_confirmTimer: null,\r\n  company: \"\",\r\n  companyState: null,\r\n  companyError: \"\",\r\n  companyTimer: null,\r\n  firstname: \"\",\r\n  firstnameState: null,\r\n  firstnameError: \"\",\r\n  firstnameTimer: null,\r\n  lastname: \"\",\r\n  lastnameState: null,\r\n  lastnameError: \"\",\r\n  lastnameTimer: null,\r\n  coc_number: \"\",\r\n  coc_numberState: null,\r\n  coc_numberError: \"\",\r\n  coc_numberTimer: null,\r\n  taxvat: \"\",\r\n  taxvatState: null,\r\n  taxvatError: \"\",\r\n  taxvatTimer: null,\r\n  address: {\r\n    country_code: \"\",\r\n    postcode: \"\",\r\n    postcodeState: null,\r\n    postcodeError: \"\",\r\n    postcodeTimer: null,\r\n    street: \"\",\r\n    streetDisplay: \"\",\r\n    streetDisplayState: null,\r\n    streetDisplayError: \"\",\r\n    streetDisplayTimer: null,\r\n    house_number: \"\",\r\n    house_numberState: null,\r\n    house_numberError: \"\",\r\n    house_numberTimer: null,\r\n    addition: \"\",\r\n    city: \"\",\r\n    cityState: null,\r\n    cityError: \"\",\r\n    cityTimer: null,\r\n    telephone: \"\",\r\n    telephoneState: null,\r\n    telephoneError: \"\",\r\n    telephoneTimer: null,\r\n    default_billing: true,\r\n    default_shipping: true,\r\n  },\r\n  is_subscribed: true,\r\n  checkbox2: false,\r\n  manual: false,\r\n});\r\n\r\nconst countries = computed(() => store.getters[\"user/getCountries\"]);\r\n\r\nconst country = computed(() => form.value.address.country_code);\r\nconst postcodeHouseNumber = computed(\r\n  () => `${form.value.address.postcode}|${form.value.address.house_number}`\r\n);\r\nconst vatNumber = computed(() => form.value.taxvat);\r\nconst Email = computed(() => form.value.email);\r\nconst Password = computed(() => form.value.password);\r\nconst PasswordConfirm = computed(() => form.value.password_confirm);\r\nconst isLoggedIn = computed(() => store.getters[\"user/getIsLoggedIn\"]);\r\n\r\nwatch(isLoggedIn, (newValue) => {\r\n  if (newValue) {\r\n    router.push({ name: \"account\" });\r\n  }\r\n});\r\n\r\nwatch(Email, () => {\r\n  if (form.value.emailTimer !== null) {\r\n    clearTimeout(form.value.emailTimer);\r\n  }\r\n  form.value.emailTimer = setTimeout(() => validateEmail(), 1000);\r\n});\r\n\r\nwatch(Password, () => {\r\n  validatePassword();\r\n});\r\n\r\nwatch(PasswordConfirm, () => {\r\n  validateConfirmationPassword();\r\n});\r\n\r\nwatch(country, () => {\r\n  if (config.postcode_validation.enabled) {\r\n    if (!config.postcode_validation.countries.includes(country.value)) {\r\n      showFullAddress.value = true;\r\n    } else {\r\n      showFullAddress.value = false;\r\n    }\r\n  } else {\r\n    showFullAddress.value = true;\r\n  }\r\n});\r\n\r\nwatch(vatNumber, () => {\r\n  if (config.vat_validation.enabled) {\r\n    if (form.value.taxvatTimer !== null) {\r\n      clearTimeout(form.value.taxvatTimer);\r\n    }\r\n    form.value.taxvatTimer = setTimeout(() => validateVAT(), 1000);\r\n  }\r\n});\r\n\r\nwatch(postcodeHouseNumber, (newVal) => {\r\n  if (showFullAddress.value == false) {\r\n    if (typeTimer.value !== null) {\r\n      clearTimeout(typeTimer.value);\r\n    }\r\n    if (foundAddress.value != \"\") {\r\n      foundAddress.value = \"\";\r\n    }\r\n    if (foundAddresses.value.length > 0) {\r\n      foundAddresses.value = [];\r\n    }\r\n    const [newPostcode, newHouseNumber] = newVal.split(\"|\");\r\n    if (newPostcode != \"\" && newHouseNumber != \"\") {\r\n      typeTimer.value = setTimeout(() => validatePostcodeHouseNumber(), 2000);\r\n    }\r\n  }\r\n});\r\n\r\nwatch(selectedAddress, (newVal) => {\r\n  form.value.address.streetDisplay = foundAddresses.value[newVal].street;\r\n  form.value.address.addition = foundAddresses.value[newVal].letter ?? \"\";\r\n  form.value.address.city = foundAddresses.value[newVal].city;\r\n  validatePostcode();\r\n});\r\n\r\nconst validateEmail = async () => {\r\n  if (form.value.email.length == 0) {\r\n    form.value.emailState = false;\r\n    form.value.emailError = t(\"email_is_required_field\");\r\n    return false;\r\n  }\r\n  if (!emailReg.value.test(form.value.email)) {\r\n    form.value.emailState = false;\r\n    form.value.emailError = t(\"email_is_invalid_field\");\r\n    return false;\r\n  }\r\n  if (!(await checkEmailExist(form.value.email))) {\r\n    form.value.emailState = false;\r\n    form.value.emailError = t(\"email_already_exists\");\r\n    return false;\r\n  }\r\n  form.value.emailState = true;\r\n  return true;\r\n};\r\n\r\nconst validatePostcodeHouseNumber = async () => {\r\n  if (!showFullAddress.value) {\r\n    const list = await validatePostcode(\r\n      form.value.address.postcode,\r\n      form.value.address.house_number\r\n    );\r\n    if (list.length === 1) {\r\n      let address = list[0].street + \" \" + list[0].number;\r\n      form.value.address.streetDisplay = list[0].street;\r\n      if (list[0].letter != null) {\r\n        form.value.address.addition = list[0].letter;\r\n        address = address + list[0].letter;\r\n      } else {\r\n        form.value.addition = \"\";\r\n      }\r\n\r\n      address = address + \", \" + list[0].postcode + \" \" + list[0].city;\r\n\r\n      form.value.address.city = list[0].city;\r\n      form.value.address.cityState = true;\r\n      foundAddress.value = address;\r\n      validatePostcode();\r\n    } else if (list.length === 0) {\r\n      foundAddress.value = t(\"postcode_not_found\");\r\n    } else {\r\n      list.forEach(function (item) {\r\n        let address = item.street + \" \" + item.number;\r\n        if (item.letter != null) {\r\n          address = address + item.letter;\r\n        }\r\n\r\n        address = address + \", \" + item.postcode + \" \" + item.city;\r\n        item.text = address;\r\n        foundAddresses.value.push(item);\r\n      });\r\n    }\r\n  } else {\r\n    if (form.value.address.postcode === \"\") {\r\n      form.value.address.postcodeState = false;\r\n      form.value.address.postcodeError = t(\"postcode_required\");\r\n    } else {\r\n      form.value.address.postcodeState = true;\r\n    }\r\n  }\r\n};\r\n\r\nconst formSubmit = async () => {\r\n  let formValid = true;\r\n\r\n  if (!form.value.emailState) {\r\n    validateEmail();\r\n    if (!form.value.emailState) {\r\n      formValid = false;\r\n    }\r\n  }\r\n\r\n  if (!form.value.passwordState) {\r\n    validatePassword();\r\n    if (!form.value.passwordState) {\r\n      formValid = false;\r\n    }\r\n  }\r\n\r\n  if (!form.value.password_confirmState) {\r\n    validateConfirmationPassword();\r\n    if (!form.value.password_confirmState) {\r\n      formValid = false;\r\n    }\r\n  }\r\n\r\n  if (isCompany.value) {\r\n    if (!form.value.companyState) {\r\n      validateCompany();\r\n      if (!form.value.companyState) {\r\n        formValid = false;\r\n      }\r\n    }\r\n    if (!form.value.coc_numberState) {\r\n      validateCocNumber();\r\n      if (!form.value.coc_numberState) {\r\n        formValid = false;\r\n      }\r\n    }\r\n    if (!form.value.taxvatState) {\r\n      validateVAT();\r\n      if (!form.value.taxvatState) {\r\n        formValid = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!form.value.firstnameState) {\r\n    validateFirstname();\r\n    if (!form.value.firstnameState) {\r\n      formValid = false;\r\n    }\r\n  }\r\n\r\n  if (!form.value.lastnameState) {\r\n    validateLastname();\r\n    if (!form.value.lastnameState) {\r\n      formValid = false;\r\n    }\r\n  }\r\n\r\n  if (!form.value.address.postcodeState) {\r\n    validatePostcode();\r\n    if (!form.value.address.postcodeState) {\r\n      formValid = false;\r\n    }\r\n  }\r\n\r\n  if (!form.value.address.house_numberState) {\r\n    validateHouseNumber();\r\n    if (!form.value.address.house_numberState) {\r\n      formValid = false;\r\n    }\r\n  }\r\n\r\n  if (!form.value.address.streetDisplayState) {\r\n    validateStreet();\r\n    if (!form.value.address.streetDisplayState) {\r\n      formValid = false;\r\n      showFullAddress.value = true;\r\n    }\r\n  }\r\n\r\n  if (!form.value.address.telephoneState) {\r\n    validatePhone();\r\n    if (!form.value.address.telephoneState) {\r\n      formValid = false;\r\n    }\r\n  }\r\n\r\n  if (!form.value.address.cityState) {\r\n    validateCity();\r\n    if (!form.value.address.cityState) {\r\n      formValid = false;\r\n    }\r\n  }\r\n\r\n  if (formValid) {\r\n    form.value.address.street = form.value.address.streetDisplay;\r\n    if (form.value.address.house_number !== \"\") {\r\n      form.value.address.street += \" \" + form.value.address.house_number;\r\n    }\r\n    if (form.value.address.addition !== \"\") {\r\n      form.value.address.street += \" \" + form.value.address.addition;\r\n    }\r\n    if (!isCompany.value) {\r\n      form.value.company = \"\";\r\n      form.value.taxvat = \"\";\r\n      form.value.coc_number = \"\";\r\n    }\r\n    const retval = await store.dispatch(\"user/createAccount\", {\r\n      account: form.value,\r\n      store,\r\n    });\r\n    if (retval) {\r\n      const msg = {\r\n        type: \"success\",\r\n        title: \"account_create\",\r\n        text: t(\"account_created\"),\r\n      };\r\n      store.dispatch(\"messages/sendMessage\", { message: msg });\r\n      router.push(\"/login\");\r\n    }\r\n  }\r\n};\r\n\r\nconst validatePassword = () => {\r\n  if (form.value.password.length < 8) {\r\n    form.value.passwordState = false;\r\n    form.value.passwordError = t(\"password_needs\");\r\n  } else if (!/[a-z]/.test(form.value.password)) {\r\n    form.value.passwordState = false;\r\n    form.value.passwordError = t(\"password_needs\");\r\n  } else if (!/[!\"#$%&'()*+,-.:;<=>?@[\\]^_`{|}~]/.test(form.value.password)) {\r\n    form.value.passwordState = false;\r\n    form.value.passwordError = t(\"password_needs\");\r\n  } else if (!/[A-Z]/.test(form.value.password)) {\r\n    form.value.passwordState = false;\r\n    form.value.passwordError = t(\"password_needs\");\r\n  } else if (!/\\d/.test(form.value.password)) {\r\n    form.value.passwordState = false;\r\n    form.value.passwordError = t(\"password_needs\");\r\n  } else {\r\n    form.value.passwordState = true;\r\n  }\r\n};\r\n\r\nconst validateConfirmationPassword = () => {\r\n  if (form.value.password != form.value.password_confirm) {\r\n    form.value.password_confirmState = false;\r\n    form.value.password_confirmError = t(\"password_confirm_not_equal\");\r\n  } else {\r\n    form.value.password_confirmState = true;\r\n  }\r\n};\r\n\r\nconst validateVAT = async () => {\r\n  if (isCompany.value) {\r\n    if (form.value.taxvat != \"\") {\r\n      if (\r\n        form.value.taxvat.substring(0, 2).toUpperCase() ===\r\n        form.value.address.country_code\r\n      ) {\r\n        const retval = await validateVatNumber(form.value.taxvat);\r\n        if (retval.valid == \"true\") {\r\n          isValidVatNumber.value = true;\r\n          form.value.taxvatState = true;\r\n        } else {\r\n          isValidVatNumber.value = false;\r\n          form.value.taxvatState = false;\r\n          form.value.taxvatError = t(\"taxvat_invalid\");\r\n          showVatMessage.value = t(\"taxvat_invalid\");\r\n        }\r\n      } else {\r\n        isValidVatNumber.value = false;\r\n        form.value.taxvatState = false;\r\n        form.value.taxvatError = t(\"taxvat_wrong_country\");\r\n      }\r\n    } else {\r\n      form.value.taxvatState = null;\r\n      form.value.taxvatError = \"\";\r\n    }\r\n  } else {\r\n    form.value.taxvatState = null;\r\n    form.value.taxvatError = \"\";\r\n  }\r\n};\r\n\r\nconst validateCompany = () => {\r\n  if (isCompany.value) {\r\n    if (form.value.company == \"\") {\r\n      form.value.companyState = false;\r\n      form.value.companyError = t(\"company_name_required\");\r\n    } else {\r\n      form.value.companyState = true;\r\n    }\r\n  } else {\r\n    form.value.companyState = null;\r\n  }\r\n};\r\n\r\nconst validateFirstname = () => {\r\n  if (form.value.firstname == \"\") {\r\n    form.value.firstnameState = false;\r\n    form.value.firstnameError = t(\"firstname_required\");\r\n  } else {\r\n    form.value.firstnameState = true;\r\n  }\r\n};\r\n\r\nconst validateLastname = () => {\r\n  if (form.value.lastname == \"\") {\r\n    form.value.lastnameState = false;\r\n    form.value.lastnameError = t(\"lastname_required\");\r\n  } else {\r\n    form.value.lastnameState = true;\r\n  }\r\n};\r\n\r\nconst validateCocNumber = () => {\r\n  if (isCompany.value) {\r\n    if (form.value.coc_number == \"\") {\r\n      form.value.coc_numberState = false;\r\n      form.value.coc_numberError = t(\"coc_number_required\");\r\n    } else {\r\n      form.value.coc_numberState = true;\r\n    }\r\n  } else {\r\n    form.value.coc_numberState = null;\r\n  }\r\n};\r\n\r\nconst validatePostcode = () => {\r\n  if (form.value.address.postcode == \"\") {\r\n    form.value.address.postcodeState = false;\r\n    form.value.address.postcodeError = t(\"postcode_required\");\r\n  } else {\r\n    form.value.address.postcodeState = true;\r\n  }\r\n};\r\n\r\n// const validateStreetDisplay = () => {\r\n//   if (form.value.address.streetDisplay == \"\") {\r\n//     form.value.address.streetDisplayState = false;\r\n//     form.value.address.streetDisplayError = t(\"street_required\");\r\n//   } else {\r\n//     form.value.address.streetDisplayState = true;\r\n//   }\r\n// };\r\n\r\nconst validateHouseNumber = () => {\r\n  if (form.value.address.house_number == \"\") {\r\n    form.value.address.house_numberState = false;\r\n    form.value.address.house_numberError = t(\"house_number_required\");\r\n  } else {\r\n    form.value.address.house_numberState = true;\r\n  }\r\n};\r\n\r\nconst validateCity = () => {\r\n  if (form.value.address.city == \"\") {\r\n    form.value.address.cityState = false;\r\n    form.value.address.cityError = t(\"city_required\");\r\n  } else {\r\n    form.value.address.cityState = true;\r\n  }\r\n};\r\n\r\nconst validatePhone = () => {\r\n  if (form.value.address.telephone == \"\") {\r\n    form.value.address.telephoneState = false;\r\n    form.value.address.telephoneError = t(\"phone_required\");\r\n  } else {\r\n    form.value.address.telephoneState = true;\r\n  }\r\n};\r\n\r\nconst validateStreet = () => {\r\n  if (form.value.address.streetDisplay == \"\") {\r\n    form.value.address.streetDisplayState = false;\r\n    form.value.address.streetDisplayError = t(\"street_required\");\r\n  } else {\r\n    form.value.address.streetDisplayState = true;\r\n  }\r\n};\r\n\r\n// const validateTelephone = () => {\r\n//   if (form.value.address.telephone == \"\") {\r\n//     form.value.address.telephoneState = false;\r\n//     form.value.address.telephoneError = t(\"telephone_required\");\r\n//   } else {\r\n//     form.value.address.telephoneState = true;\r\n//   }\r\n// };\r\n\r\nuseHead({\r\n  title: () => t(\"create_new_account\"),\r\n  meta: [\r\n    { name: \"title\", content: () => t(\"create_new_account\") },\r\n    { name: \"keywords\", content: () => t(\"create_new_account\") },\r\n    { name: \"description\", content: () => t(\"create_new_account\") },\r\n  ],\r\n});\r\n\r\nonMounted(() => {\r\n  isClient.value = true;\r\n  const bcrumb = { current: t(\"create_new_account\"), routes: [] };\r\n  store.commit(\"breadcrumbs/set\", bcrumb);\r\n  if (typeof config.customers.defaultCountry !== \"undefined\") {\r\n    form.value.address.country_code = config.customers.defaultCountry;\r\n  }\r\n\r\n  if (config.postcode_validation.enabled === false) {\r\n    // manual.value = true;\r\n    showManual.value = false;\r\n  }\r\n\r\n  if (config.vat_validation.enabled === false) {\r\n    showVatCheck.value = false;\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n@import \"@/base/core/components/login/login.scss\";\r\n\r\n:deep(.el-form-item label) {\r\n  width: 100%;\r\n  justify-content: flex-start;\r\n  min-width: 110px;\r\n  width: 110px;\r\n  font-weight: 400;\r\n  padding-right: 2px;\r\n}\r\n</style>\r\n"],"names":["config"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}