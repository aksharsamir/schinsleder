{"version":3,"file":"Blogs-Te7VaWAe.js","sources":["../../../src/esf_thehague_schinsleder/core/views/blog/Blogs.vue"],"sourcesContent":["<template>\r\n  <AppLayout wrapperClass=\"blogs\" v-if=\"isClient\">\r\n    <Breadcrumbs />\r\n    <section class=\"static pt-7\">\r\n      <b-row no-gutters class=\"justify-content-center\">\r\n        <b-col lg=\"9\" sm=\"12\">\r\n          <div>\r\n            <div class=\"title-serch-wrapper\">\r\n              <h1 class=\"title ps-sm-15 ps-lg-0\">Blog</h1>\r\n\r\n              <div class=\"d-flex justify-content-between align-items-center gap-5\">\r\n                <input type=\"search\" v-model=\"search\" class=\"form-control\" placeholder=\"Zoek publicatie\">\r\n                <button class=\"btn btn-secondary to-serch\" @click=\"onSearch\">{{ $t(\"to_serch\") }}</button>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"blog-list\">\r\n              <b-card no-body class=\"overflow-hidden d-flex m-10\" v-for=\"(item, index) in currentPage\" :key=\"index\">\r\n                <b-row no-gutters class=\"\">\r\n                  <b-col md=\"3\" class=\"h-100 text-center align-self-center p-5 mr-md-5\">\r\n                    <img class=\"blog-img\" :src=\"item.featured_image || item.first_image\" :alt=\"item.title\" />\r\n                  </b-col>\r\n                  <b-col md=\"9\" class=\"\">\r\n                    <b-card-body>\r\n                      <div>\r\n                        <h3 class=\"blog-title\"> {{ item.title }} </h3>\r\n                        <div class=\"posted-author-wrapper \">\r\n                          <span v-if=\"item.creation_time\">\r\n                            <strong> {{ $t(\"posted\") }}: </strong>\r\n                            {{ item.creation_time.split(' ')[0] }}\r\n                          </span>\r\n                          <span v-if=\"item.author?.name\">\r\n                            <strong> {{ $t(\"author\") }}: </strong>\r\n                            {{ item.author.name }}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"blog-short-content\" v-html=\"item.short_filtered_content\"></div>\r\n                      <button @click=\"$router.push('/blog/' + item.identifier)\" type=\"button\" variant=\"info\"\r\n                        class=\"btn btn-secondary read-more\">{{ $t(\"read_more\") }}</button>\r\n                    </b-card-body>\r\n                  </b-col>\r\n                </b-row>\r\n              </b-card>\r\n            </div>\r\n\r\n            <BPagination v-model=\"currentPageNr\" :total-rows=\"totalBlogs\" :per-page=\"blogsPerPage\"></BPagination>\r\n          </div>\r\n        </b-col>\r\n\r\n        <b-col md=\"2\" class=\"d-none d-lg-block archive-wrapper\">\r\n          <h3 class=\"title\">{{ $t(\"archive\") }}</h3>\r\n          <div>\r\n            <select name=\"\" id=\"\">\r\n              <option value=\"\">Maand</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <select name=\"\" id=\"\">\r\n              <option value=\"\">Jaar</option>\r\n            </select>\r\n          </div>\r\n        </b-col>\r\n      </b-row>\r\n    </section>\r\n  </AppLayout>\r\n</template>\r\n<script setup>\r\nimport { computed, onMounted, watch, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport AppLayout from \"@/esf_thehague_schinsleder/core/components/AppLayout\";\r\nimport Breadcrumbs from \"@/esf_thehague_schinsleder/core/components/Breadcrumbs\";\r\n\r\nconst store = useStore();\r\nconst isClient = ref(false);\r\nconst search = ref(\"\");\r\nconst totalBlogs = computed(() => store.getters[\"blog/getTotalBlogs\"]);\r\nconst blogsPerPage = computed(() => store.getters[\"blog/getBlogsPerPage\"]);\r\nconst currentPage = computed(() => store.getters[\"blog/getCurrentPage\"]);\r\nconst currentPageNo = computed(store.getters[\"blog/getCurrentPageNr\"]);\r\n\r\nconst onSearch = async () => {\r\n  await store.dispatch('setLoading', true)\r\n  await store.dispatch(\"blog/searchBlogs\", {\r\n    search: search.value,\r\n  });\r\n  await store.dispatch('setLoading', false)\r\n}\r\n\r\nconst currentPageNr = computed({\r\n  get: () => store.getters[\"blog/getCurrentPageNr\"],\r\n  set: (val) => store.dispatch(\"blog/goToPage\", { pageNr: val })\r\n});\r\n\r\nonMounted(() => {\r\n  const bcrumb = {\r\n    current: \"Blog\",\r\n    routes: [],\r\n  };\r\n  store.commit(\"breadcrumbs/set\", bcrumb);\r\n  isClient.value = true;\r\n});\r\n\r\n</script>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA,UAAM,QAAQ,SAAQ;AACtB,UAAM,WAAW,IAAI,KAAK;AAC1B,UAAM,SAAS,IAAI,EAAE;AACrB,UAAM,aAAa,SAAS,MAAM,MAAM,QAAQ,oBAAoB,CAAC;AACrE,UAAM,eAAe,SAAS,MAAM,MAAM,QAAQ,sBAAsB,CAAC;AACzE,UAAM,cAAc,SAAS,MAAM,MAAM,QAAQ,qBAAqB,CAAC;AACjD,aAAS,MAAM,QAAQ,uBAAuB,CAAC;AAErE,UAAM,WAAW,YAAY;AAC3B,YAAM,MAAM,SAAS,cAAc,IAAI;AACvC,YAAM,MAAM,SAAS,oBAAoB;AAAA,QACvC,QAAQ,OAAO;AAAA,MACnB,CAAG;AACD,YAAM,MAAM,SAAS,cAAc,KAAK;AAAA,IAC1C;AAEA,UAAM,gBAAgB,SAAS;AAAA,MAC7B,KAAK,MAAM,MAAM,QAAQ,uBAAuB;AAAA,MAChD,KAAK,CAAC,QAAQ,MAAM,SAAS,iBAAiB,EAAE,QAAQ,KAAK;AAAA,IAC/D,CAAC;AAED,cAAU,MAAM;AACd,YAAM,SAAS;AAAA,QACb,SAAS;AAAA,QACT,QAAQ,CAAE;AAAA,MACd;AACE,YAAM,OAAO,mBAAmB,MAAM;AACtC,eAAS,QAAQ;AAAA,IACnB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}